<!--
===========================================================================
Project: Django Calorie Calculator
Folder: src/calories/templates/calories/
Author: Mobin Yousefi (GitHub: github.com/mobinyousefi-cs)
Created: 2025-11-01 | Updated: 2025-11-01 | License: MIT
===========================================================================
-->
<!-- dashboard.html -->
{% extends 'calories/base.html' %}
{% block content %}
<div class="row g-4">
  <div class="col-md-4">
    <div class="card shadow-sm">
      <div class="card-body">
        <h5 class="card-title">Today's Summary ({{ today }})</h5>
        <p class="mb-1">BMR: <strong>{{ bmr }}</strong></p>
        <p class="mb-1">TDEE: <strong>{{ tdee }}</strong></p>
        <p class="mb-1">Target: <strong>{{ target }}</strong></p>
        <p class="mb-0">Consumed: <strong>{{ consumed }}</strong></p>
        <hr/>
        <p class="lead">Remaining: <strong>{{ remaining }}</strong> kcal</p>
      </div>
    </div>
  </div>
  <div class="col-md-8">
    <div class="card shadow-sm">
      <div class="card-body">
        <div class="d-flex justify-content-between align-items-center">
          <h5 class="card-title mb-0">Today's Meals</h5>
          <a class="btn btn-sm btn-primary" href="{% url 'meal_create' %}">Add Meal</a>
        </div>
        <table class="table table-sm mt-3">
          <thead><tr><th>Date</th><th>Food</th><th>Qty (g)</th><th>kcal</th></tr></thead>
          <tbody>
            {% for m in meals %}
            <tr>
              <td>{{ m.date }}</td>
              <td>{{ m.food.name }}</td>
              <td>{{ m.quantity_g }}</td>
              <td>{{ m.calories }}</td>
            </tr>
            {% empty %}
            <tr><td colspan="4" class="text-muted">No meals yet.</td></tr>
            {% endfor %}
          </tbody>
        </table>
      </div>
    </div>
  </div>
</div>
{% endblock %}